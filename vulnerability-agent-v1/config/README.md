## Agent Workflow

```
┌─────────────────────────────────────────────────────────────────────┐
│                    VULNERABILITY AGENT v1                           │
│                         (FIXED VERSION)                             │
└─────────────────────────────────────────────────────────────────────┘

Agent 1: Cybersecurity Agent (allow_delegation=FALSE ✓)
         │
         ├─► Tool: NetworkAnomalyDetector (1 call)
         │
         └─► Output: network_anomaly_detection_task.md
                     │
                     │ (context passed to next task)
                     ▼

Agent 2: Electronic Warfare Agent (allow_delegation=FALSE ✓)
         │
         ├─► Tool: EW Signal Processor (1 call)
         ├─► Tool: ESM Sensor Simulator (1 call)
         ├─► Tool: ELINT Sensor Simulator (1 call)
         ├─► Tool: GNSS Receiver (1 call)
         ├─► Tool: Comm Receiver (1 call)
         ├─► Tool: Jamming Classifier (1 call)
         │
         └─► Output: jamming_classification_task.md
                     │
                     │ (context passed to next task)
                     ▼

Agent 3: Tactical Planning Agent (allow_delegation=FALSE ✓, max_iter=5)
         │
         │  Reads context:
         │  - Network anomalies
         │  - Jamming classifications
         │  - Recommended countermeasures
         │
         ├─► Generates Plan A (Aggressive ECM) in memory
         ├─► Generates Plan B (Kinetic Strike) in memory
         ├─► Generates Plan C (Defensive Evasion) in memory
         │
         │  NO TOOLS CALLED (all info in context)
         │
         └─► Output: tactical_planning_task.md
                     │  Contains all 3 complete plans
                     │  
                     │ (context passed to next task)
                     ▼

Agent 4: Evaluator Agent (allow_delegation=FALSE ✓, max_iter=5)
         │
         │  Reads context:
         │  - tactical_planning_task.md (3 plans)
         │  - Jamming data
         │  - Network anomalies
         │
         ├─► Tool: Countermeasure Simulator (Plan A)  ← Call 1
         │           Result: 67% effective → APPROVED
         │
         ├─► Tool: Countermeasure Simulator (Plan B)  ← Call 2
         │           Result: 48% effective → APPROVED
         │
         ├─► Tool: Countermeasure Simulator (Plan C)  ← Call 3
         │           Result: 52% effective → APPROVED
         │
         │  Total simulator calls: EXACTLY 3 ✓
         │  NO agent communication
         │
         └─► Output: plan_evaluation_task.md
                     │  Contains evaluation of all 3 plans
                     │  All approved (≥40% threshold)
                     │
                     ▼

┌─────────────────────────────────────────────────────────────────────┐
│                       HITL (Human In The Loop)                      │
│  Commanding officer selects 1 of 3 approved plans:                  │
│  [ Plan A: Aggressive ECM - 67% ] ← Selected                        │
│  [ Plan B: Kinetic Strike - 48% ]                                   │
│  [ Plan C: Defensive Evasion - 52% ]                                │
└─────────────────────────────────────────────────────────────────────┘
         │
         │ (selected plan passed to execution task)
         ▼

Agent 5: Actuator Agent (allow_delegation=FALSE ✓, max_iter=15)
         │
         │  Reads selected plan from context
         │  (Plan A: ECM + Frequency Hop + Power Increase)
         │
         ├─► Tool: ECM Actuator (1 call)
         ├─► Tool: Frequency Hop Actuator (1 call)
         ├─► Tool: Power Increase Actuator (1 call)
         │
         └─► Output: countermeasure_execution_task.md
                     │
                     ✓ MISSION COMPLETE

```
